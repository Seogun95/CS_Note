# 메모리 구조

프로그램이 실행되면 운영체제는 메모리(RAM)에 공간을 할당합니다.
할당해주는 메모리 공간은 4가지(`Code`, `Data`, `Stack`, `Heap`)가 있습니다.

## 코드(Code) 영역

- 실행할 프로그램의 명령어들이 저장되는 영역 
- 주로 텍스트(code) 영역으로 불리기도 합니다. 코드 영역에는 프로그램의 함수, 제어문, 상수 등이 지정됩니다.
- 컴파일에 크기 결정

## 데이터(Data) 영역

- 전역변수와 정적 변수가 할당되는 영역
- 프로그램이 시작될 때 메모리에 할당되며, 프로그램이 종료되면 메모리가 소멸됩니다.
- 컴파일에 크기 결정

예를 들어 전역 변수 `a`와 `b`가 데이터 영역에 할당됩니다. 또한 데이터 영역에는 함수 `dataFunc()`도 위치합니다.

```ts
let a: number = 10; // 데이터 영역에 할당
let b: number = 20; // 데이터 영역에 할당

function dataFunc(): boolean {
	return true
}
```

## 스택(Stack) 영역

- 프로그램이 자동으로 사용하는 임시 메모리 영역
- 함수 호출 시 생성되는 지역 변수와 매개변수가 저장되는 영역이고,  
함수 호출이 완료되면 사라집니다.

```ts
let a: number = 10; // 데이터 영역에 할당 (전역 변수)
let b: number = 20; // 데이터 영역에 할당 (전역 변수)

function dataFunc(): boolean {
  someFunc1(3);
  someFunc2(5);
  return true;
}

function someFunc1(c: number): void {
  let d: number = 30; // 스택 영역에 할당 (지역 변수)
  // 매개변수 'c'와 지역 변수 'd'가 스택 영역에 할당됩니다.
}

function someFunc2(e: number): void {
  let f: number = 40; // 스택 영역에 할당 (지역 변수)
  // 매개변수 'e'와 지역 변수 'f'가 스택 영역에 할당됩니다.
}
```

## 힙(Heap) 영역

- 프로그래머가 필요할 때마다 사용하는 메모리 영역
- 런타임에 크기 결정
-  데이터 배열의 크기가 확실하지 않고 변동이 있을 때 Heap 영역을 활용해서 메모리를 할당 합니다.
- 자바스크립트에서는 가비지 컬렉터가 자동으로 해제합니다.

## 힙과 스택영역

- HEAP과 STACK 영역은 같은 공간을 공유하며, 각각의 할당 방식에 따라 메모리 주소가 할당됩니다.
- Stack 영역이 크면 Heap 영역이 작아지고, Heap 영역이 크면 Stack 영역이 작아집니다.


## 요약

- **스택(Stack)**: 함수의 호출과 관련된 정보를 저장하는 영역으로, 지역 변수와 함수 호출 스택 프레임을 저장합니다.
- **힙(Heap)**: 동적으로 할당된 메모리 공간으로, 객체와 배열 등이 저장됩니다.
- **데이터(Data)**: 전역 변수와 정적(static) 변수가 저장되는 영역입니다.
- **코드(Code)**: 프로그램의 명령어와 실행 코드가 저장되는 영역입니다.
