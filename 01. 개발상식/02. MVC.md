
# MVC

MVC(Mode-View-Controller) 패턴은 애플리케이션을 세 가지 역할로 구분하여 개발하는 방법론입니다. 이 패턴은 사용자 인터페이스와 비즈니스 로직을 분리하여 애플리케이션을 보다 유지보수 가능하고 확장성 있는 구조로 만들어줍니다.

![](https://i.imgur.com/6igwzBz.png)

MVC 패턴은 다음과 같은 역할로 구성됩니다:

### **모델(Model)**
데이터를 가진 객체로, 내부 상태를 유지하고 모델을 표현하는 속성을 가지고 있습니다. 모델의 상태가 변경되면 컨트롤러와 뷰에 알림을 보냅니다. 

### model의 주요 규칙

1. **사용자가 편집하길 원하는 모든 데이터를 가지고 있어야 합니다.**

만약 웹 애플리케이션의 모델이 사용자의 프로필 정보를 나타낸다면, 모델은 사용자의 이름, 이메일, 나이 등의 데이터를 가지고 있어야 합니다.

2. **뷰나 컨트롤러에 대해 어떠한 정보도 알면 안됩니다.**

모델은 단지 데이터의 상태를 관리하고, 변경사항이 발생하면 알림을 보내는 역할을 합니다. 예를 들어, 모델이 데이터베이스의 테이블을 나타낸다면, 모델은 직접 뷰나 컨트롤러가 데이터베이스에 접근하거나 조작하는 것을 허용하지 않습니다.

3. **변경이 일어나면 변경 통지에 대한 처리 방법을 구현해야 합니다.**

모델은 데이터의 변경이 발생할 때 컨트롤러와 뷰에 변경 사실을 알리는 기능을 가지고 있어야 합니다. 예를 들어, 모델이 데이터의 특정 속성이 변경되면, 모델은 이 변경 사실을 컨트롤러에게 알리고 컨트롤러는 이를 통해 필요한 처리를 수행할 수 있습니다. 뷰는 모델의 변경 사실을 감지하고 업데이트하여 사용자에게 최신 정보를 보여줄 수 있습니다.

## 뷰(View)

뷰(View)는 클라이언트 측 기술인 HTML, CSS, JavaScript 등을 사용하여 사용자에게 시각적으로 보여지는 인터페이스(UI)를 구성하는 역할을 담당하고, 모델의 정보를 사용자에게 보여줍니다. 

### view의 주요 규칙

1. **모델이 가지고 있는 정보를 따로 저장해서는 안 됩니다.**

웹 애플리케이션의 뷰가 사용자의 주문 목록을 표시하는 경우, 뷰는 모델로부터 주문 데이터를 가져와 표시해야 합니다. 이때, 뷰는 주문 데이터를 따로 저장해서는 안 되고, 모델에서 제공하는 데이터를 사용해야 합니다.

2. **모델이나 컨트롤러와 같이 다른 구성 요소를 몰라야 합니다.**

뷰가 특정 주문 데이터를 변경하거나 모델에 직접 접근해서는 안 됩니다. 뷰는 오로지 데이터를 표현하고 사용자 인터페이스를 제공하는 역할을 해야 합니다. 모델이나 컨트롤러와의 의존성을 최소화하여, 재사용성과 유지 보수성을 향상시킬 수 있습니다.

3. **변경이 일어나면 변경 통지에 대한 처리 방법을 구현해야 합니다.**

모델의 데이터가 변경되면, 뷰는 해당 변경 사항을 감지하고 자동으로 업데이트되어야 합니다. 이를 위해 뷰는 모델의 변경 통지를 수신하고, 변경된 데이터를 적용하여 사용자에게 최신 정보를 제공해야 합니다. 변경 통지에 대한 처리 방법을 구현하여, 데이터와 뷰의 일관성을 유지할 수 있습니다.

## 컨트롤러(Controller)

데이터와 사용자인터페이스 요소들을 잇는 다리역할을 합니다.

컨트롤러는 사용자의 입력이나 동작을 감지하고, 해당 동작을 모델에 전달하여 뷰의 상태를 변경하거나 표시 방법을 제어합니다. 이를 통해 컨트롤러는 사용자와 모델, 뷰 사이의 상호작용을 조정하고, 애플리케이션의 동작을 제어합니다.

### Controller의 주요 규칙

1. **모델이나 뷰에 대해서 알고 있어야 합니다.**

컨트롤러가 웹 애플리케이션의 주문 기능을 담당한다고 가정해봅시다. 컨트롤러는 모델이 주문 데이터를 처리하고 저장하는 방법에 대해 알고 있어야 합니다. 또한, 뷰의 인터페이스 요소들을 조작하여 사용자 입력을 받고, 해당 입력을 모델로 전달해야 합니다.

2. **모델이나 뷰의 변경을 모니터링 해야 합니다.**

컨트롤러는 모델의 데이터 변경이나 뷰의 상태 변경을 감지하여 적절한 조치를 취해야 합니다. 모델의 데이터 변경을 인식하고, 변경된 데이터를 뷰에 업데이트하거나 다른 동작을 수행해야 합니다. 또한, 뷰에서 발생하는 이벤트를 감지하여 해당 이벤트에 대한 처리를 수행해야 합니다.


## MVC 패턴을 사용하는 이유
- 비즈니스 로직과 UI 로직을 분리하여 독립적인 유지보수를 가능하게 합니다.
- 모델과 뷰가 다른 구성 요소에 종속되지 않기 때문에 애플리케이션의 확장성과 유연성이 향상됩니다.
- 중복된 코드를 줄일 수 있습니다.

## MVC 패턴의 한계
MVC 패턴의 문제는 하나의 뷰에서의 변화는 여러 모델의 변화를 일으키고, 하나의 모델에서의 변화는 여러 뷰의 변화를 일으킨다는 것입니다. 그래서 UI가 깜빡거리거나 리소스 비용이 많이 들 수 있는 단점이 존재합니다.

이를 해결하기 위해서 React에서는 플럭스 패턴을 사용한 리덕스가 나타나게 되었습니다.

Flux 패턴에서는 단방향 데이터 흐름을 중시하며, 뷰를 기존의 MVC 컴포넌트 관점이 아닌 하나의 큰 뷰로 간주하고, 뷰에서는 Dispatch를 통해 액션을 전달합니다. 액션은 리듀서를 통해 데이터를 변경하고 스토어에 보관합니다. 스토어에 있는 데이터는 뷰에 전달되어 사용자에게 보여집니다.

![](https://i.imgur.com/5HV6VOs.png)

![](https://i.imgur.com/fxSdqxj.gif)

![](https://i.imgur.com/ZETSO1Z.gif)


참고 문서
- [Mozilla Developer Network - MVC](https://developer.mozilla.org/ko/docs/Glossary/MVC)
- [생활코딩 - MVC 패턴](https://opentutorials.org/course/697/3828)
- [위키백과 - 디자인 패턴](https://ko.wikipedia.org/wiki/%EB%94%94%EC%9E%90%EC%9D%B8_%ED%8C%A8%ED%84%B4)
- [Dev 콩 블로그 - MVC 패턴과 Flux 패턴에 대한 고찰](https://nyagm.tistory.com/155)
